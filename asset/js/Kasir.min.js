function getPromo(check){var checked=check;$.ajax({url:link+"/getPromo",type:"POST",data:{checked:checked},dataType:"json",success:function(result){$("#p_promo").html(result.data)}})}function sumtotal(){$.ajax({url:link+"/getSum",contentType:"application/json; charset=utf-8",type:"POST",dataType:"json",success:function(result){$("#sumtotal").val(result.data.sumtotal),$("#no_order").val(result.data.no_order)}})}var table;function myFunction(){var input,filter,table,tr,td,i,txtValue;for(filter=(input=document.getElementById("myInput")).value.toUpperCase(),tr=(table=document.getElementById("viewModals")).getElementsByTagName("div"),i=0;i<tr.length;i++)(td=tr[i].getElementsByTagName("button")[0])&&((txtValue=td.textContent||td.innerText).toUpperCase().indexOf(filter)>-1?tr[i].style.display="":tr[i].style.display="none")}$((function(){"use strict";sumtotal(),getPromo(0)})),$("#customSwitch1").click((function(){1==$(this).prop("checked")?(getPromo(1),$("#diskon").prop("readonly",!0),$("#diskon").val("")):0==$(this).prop("checked")&&(getPromo(0),$("#diskon").prop("readonly",!1))})),$("#customSwitch2").click((function(){1==$(this).prop("checked")?$("#paperbowl").val(1):0==$(this).prop("checked")&&$("#paperbowl").val(0)})),$(".makanans").click((function(){$("#barang").val($(this).val()),$("#btn-submit").click((function(){var data=$("#dataproduk").serialize();data+="&qty="+$("#qty").val(),data+="&customer="+$("#customer").val(),data+="&diskon="+$("#diskon").val(),data+="&p_promo="+$("#p_promo").val(),data+="&baso="+$("#baso").val(),data+="&pangsit="+$("#pangsit").val(),data+="&paperbowl="+$("#paperbowl").val(),data+="&buy_date="+$("#buy_date").val(),$.ajax({url:link+"/addProduct",type:"POST",data:data,success:function(response){$("#qty").val(""),$("#diskon").val(""),$("#baso").val(""),$("#pangsit").val(""),$("#tbl_data").DataTable().ajax.reload(null,!1),sumtotal()}})}))})),$((function(){$(document).ready((function(){var link=$(location).attr("pathname");table=$("#tbl_data").DataTable({responsive:!0,processing:!1,serverSide:!0,autoWidth:!1,sScrollY:"270",bSort:!1,searching:!1,paging:!1,info:!0,iDisplayLength:10,bLengthChange:!1,order:[],ajax:{url:link+"/get_data",type:"POST"},language:{zeroRecords:"Daftar Pesanan Kasir"},columnDefs:[{targets:[0,3],orderable:!1},{targets:-1,width:"30",orderable:!1}]})}))}));